# ===================================================================
#  PART 1: OKTA CONFIGURATION (REQUIRED)
# ===================================================================

# 1. Your Okta organization URL (format: https://your-domain.okta.com)
OKTA_CLIENT_ORGURL=https://dev-2715.okta.com

# 2. Authentication (Default: API_TOKEN) . Options are: API_TOKEN or OAUTH2
# To use OAuth2, change this to OAUTH2 and configure Section 4 below.
TOKEN_METHOD=API_TOKEN

# 3. Okta API Token (Required if TOKEN_METHOD=API_TOKEN)
# Generate from Admin Console. Read-only admin role is sufficient. Scroll below if you want to configure Oauth2 instead.
OKTA_API_TOKEN=

# 4. Concurrent API Request Limit (CRITICAL)
# Default: 18 (Safe for default Integrator/Free accounts with 50% rate limit slider)
# See README for tuning guidance based on your specific plan. https://github.com/fctr-id/okta-ai-agent?tab=readme-ov-file#-configure-rate-limits-critical
OKTA_CONCURRENT_LIMIT=18


# ===================================================================
#  PART 2: AI PROVIDER CONFIGURATION (REQUIRED)
# ===================================================================
# Set AI_PROVIDER to one of: google, openai, anthropic, vertex_ai, azure_openai, openai_compatible, bedrock
AI_PROVIDER=openai

# -------------------------------------------------------------------
#  Fill ONLY the section matching your AI_PROVIDER choice
# -------------------------------------------------------------------

# --- OPTION A: OpenAI (Default) ---
OPENAI_API_KEY=
OPENAI_REASONING_MODEL=o4-mini
OPENAI_CODING_MODEL=gpt-4.1

# --- OPTION B: Google AI Studio (Simplest Google Option) ---
GOOGLE_API_KEY=
GOOGLE_REASONING_MODEL=gemini-2.5-pro
GOOGLE_CODING_MODEL=gemini-2.5-pro

# --- OPTION C: Anthropic ---
ANTHROPIC_API_KEY=
ANTHROPIC_REASONING_MODEL=claude-sonnet-4-20250514
ANTHROPIC_CODING_MODEL=claude-sonnet-4-20250514

# --- OPTION D: Vertex AI (Google Cloud Enterprise) ---
VERTEX_AI_PROJECT=your-gcp-project-id
VERTEX_AI_LOCATION=global
VERTEX_AI_SERVICE_ACCOUNT_FILE=path/to/service-account.json
VERTEX_AI_REASONING_MODEL=gemini-3-flash-pro
VERTEX_AI_CODING_MODEL=gemini-3-flash-preview

# --- OPTION E: Azure OpenAI ---
AZURE_OPENAI_KEY=
AZURE_OPENAI_ENDPOINT=https://xxxxxx.cognitiveservices.azure.com/
AZURE_OPENAI_VERSION=2024-07-08
AZURE_OPENAI_REASONING_MODEL=gpt-4o
AZURE_OPENAI_CODING_MODEL=gpt-4o

# --- OPTION F: AWS Bedrock ---
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_SESSION_TOKEN=
AWS_DEFAULT_REGION=us-east-1
BEDROCK_REASONING_MODEL=anthropic.claude-3-7-sonnet-20250219-v1:0
BEDROCK_CODING_MODEL=anthropic.claude-3-7-sonnet-20250219-v1:0

# --- OPTION G: OpenAI Compatible (Ollama / Local LLMs) ---
OPENAI_COMPATIBLE_BASE_URL=http://localhost:11434/v1
OPENAI_COMPATIBLE_TOKEN=ollama
OPENAI_COMPATIBLE_REASONING_MODEL=llama3
OPENAI_COMPATIBLE_CODING_MODEL=llama3


# ===================================================================
#  PART 3: OPTIONAL / ADVANCED SETTINGS
# ===================================================================

# --- Sync Configuration ---
# User Sync: Comma-separated list of additional profile attributes
OKTA_USER_CUSTOM_ATTRIBUTES=

# Deprovisioned Users: Included by default (true). Use dates to filter if dataset is large.
# If both dates blank: ALL deprovisioned users synced
# If dates provided: Only those meeting BOTH conditions (created after AND updated after) are synced
SYNC_DEPROVISIONED_USERS=true
DEPR_USER_CREATED_AFTER=
DEPR_USER_UPDATED_AFTER=2025-03-01

# Device Sync: False by default (slower, more API calls)
SYNC_OKTA_DEVICES=false

# --- OAuth2 Configuration (Only if TOKEN_METHOD=OAUTH2) ---
OKTA_OAUTH2_CLIENT_ID=
OKTA_OAUTH2_SCOPES="okta.agentPools.read okta.appGrants.read okta.apps.read okta.authModes.read okta.authenticators.read okta.authorizationServers.read okta.behaviors.read okta.brands.read okta.captchas.read okta.certificateAuthorities.read okta.clients.read okta.deviceAssurance.read okta.devices.read okta.domains.read okta.emailDomains.read okta.emailServers.read okta.enduser.dashboard.read okta.enduser.read okta.eventHooks.read okta.events.read okta.factors.read okta.groups.read okta.identitySources.read okta.idps.read okta.inlineHooks.read okta.linkedObjects.read okta.logStreams.read okta.logs.read okta.manifests.read okta.networkZones.read okta.orgs.read okta.policies.read okta.principalRateLimits.read okta.profileMappings.read okta.pushProviders.read okta.rateLimits.read okta.reports.read okta.riskProviders.read okta.roles.read okta.schemas.read okta.securityEventsProviders.read okta.sessions.read okta.templates.read okta.threatInsights.read okta.trustedOrigins.read okta.uischemas.read okta.userTypes.read okta.users.read"
OKTA_OAUTH2_PRIVATE_KEY_PEM="---BEGIN PRIVATE KEY-----
YOUR_PRIVATE_KEY_HERE
---END PRIVATE KEY-----"

# --- Security & Session ---
COOKIE_SECURE=True
COOKIE_MAX_AGE_MINUTES=30
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
VERIFY_SSL=true
# SSL_CA_BUNDLE_FILENAME=custom-trust-certs.pem

# --- Application Tuning ---
LOG_LEVEL=INFO
# Circuit Breaker: Max tool calls per request to prevent loops
MAX_TOOL_CALLS=30

# Custom Headers: For OpenAI Compatible/Local LLMs behind proxies
#CUSTOM_HTTP_HEADERS={"": ""}

# --- Slack Bot Integration (Optional) ---
# Enable the Slack bot interface for CLI-like usage from Slack
ENABLE_SLACK_BOT=false

# How Slack delivers events to TakoAI:
#   socket  — outbound WebSocket to Slack (no public URL needed, works on local/private servers)
#   http    — Slack POSTs to your server's /slack/events (requires a public HTTPS URL)
# Default: socket
SLACK_OPERATION_MODE=socket

# Slack App Credentials (from https://api.slack.com/apps)
SLACK_BOT_TOKEN=xoxb-your-bot-token          # OAuth & Permissions → Bot User OAuth Token
SLACK_SIGNING_SECRET=your-signing-secret      # Basic Information → App Credentials
SLACK_APP_TOKEN=xapp-your-app-token           # Socket Mode → App-Level Token (only for SLACK_OPERATION_MODE=socket)

# --- Slack Access Control (deny-by-default) ---
# ⚠️  ACCESS IS BLOCKED FOR ALL USERS until you configure at least one option below.
# This is intentional — Tako queries can read your entire Okta tenant data.
#
# Comma-separated list of allowed Slack user emails
SLACK_ALLOWED_EMAILS=
# Comma-separated list of allowed Slack User Group handles (e.g. okta-admins,it-team)
SLACK_ALLOWED_GROUPS=
#
# ⚠️  SECURITY WARNING: Setting this to true lets EVERY user in your Slack workspace
# query ALL Okta data (users, groups, apps, policies). Only use in trusted environments.
SLACK_ALLOW_ALL_USERS=false

