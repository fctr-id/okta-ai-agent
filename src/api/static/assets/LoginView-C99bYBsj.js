import{t as e,o as a,k as l,w as s,bn as t,n as u,bh as o,bd as d,f as n,T as r,bf as i,bg as v,D as c,ac as m,ab as p,b6 as f,bv as b,bw as h}from"./vendor-BeH32teS.js";import{_ as w,u as g,a as y,b as _,V as x}from"./index-COEqgLtu.js";const k={class:"auth-box animate-entry"},I={key:0,class:"error-alert"},L={class:"form-field"},U={class:"input-wrapper"},V=["disabled"],j={key:0,class:"input-modified-hint"},C={class:"form-field"},P={class:"input-wrapper"},S=["type","disabled"],T=["disabled"],q={key:0},A={key:1,class:"three-dots-loader"},E=w({__name:"LoginView",setup(w){const E=t(),H=g(),{username:z,text:D}=y(),W=e(""),Z=e(""),$=e(!1),B=e(!1),F=e(""),G=e(!1);a((()=>{B.value=!0}));const J=()=>{const e=W.value;W.value=z(W.value,{maxLength:20,allowedPattern:/^[a-zA-Z0-9_-]$/}),G.value=e!==W.value,G.value&&setTimeout((()=>{G.value=!1}),3e3)},K=()=>{Z.value=D(Z.value,{maxLength:50,removeHtml:!0,trim:!1})},M=async()=>{if(F.value="",!W.value||!Z.value)return void(F.value="Please enter both username and password");const e=z(W.value),a=D(Z.value,{removeHtml:!0,trim:!1});await H.login(e,a)&&E.push("/agentChat")};return(e,a)=>(u(),l(_,{showLogout:!1,contentClass:"auth-content"},{default:s((()=>[o("div",k,[a[8]||(a[8]=o("h1",{class:"auth-title"},"Welcome ",-1)),a[9]||(a[9]=o("div",{class:"auth-subtitle"},"Sign in to Tako AI",-1)),o("form",{onSubmit:d(M,["prevent"]),class:"auth-form"},[n(r,{name:"fade-slide"},{default:s((()=>[c(H).error.value||F.value?(u(),i("div",I,m(c(H).error.value||F.value),1)):v("",!0)])),_:1}),o("div",L,[a[4]||(a[4]=o("label",{for:"username"},"Username",-1)),o("div",U,[n(x,{class:"field-icon"},{default:s((()=>a[3]||(a[3]=[f("mdi-account")]))),_:1}),p(o("input",{type:"text",id:"username","onUpdate:modelValue":a[0]||(a[0]=e=>W.value=e),placeholder:"Enter your username",autocomplete:"username",required:"",disabled:c(H).loading.value,onInput:J},null,40,V),[[b,W.value]])]),n(r,{name:"fade"},{default:s((()=>[G.value?(u(),i("small",j," Username was adjusted to remove invalid characters ")):v("",!0)])),_:1})]),o("div",C,[a[6]||(a[6]=o("label",{for:"password"},"Password",-1)),o("div",P,[n(x,{class:"field-icon"},{default:s((()=>a[5]||(a[5]=[f("mdi-lock")]))),_:1}),p(o("input",{type:$.value?"text":"password",id:"password","onUpdate:modelValue":a[1]||(a[1]=e=>Z.value=e),placeholder:"Enter your password",autocomplete:"current-password",required:"",disabled:c(H).loading.value,onInput:K},null,40,S),[[h,Z.value]]),o("button",{type:"button",class:"password-toggle",onClick:a[2]||(a[2]=e=>$.value=!$.value),tabindex:"-1"},[n(x,null,{default:s((()=>[f(m($.value?"mdi-eye-off":"mdi-eye"),1)])),_:1})])])]),o("button",{type:"submit",class:"auth-button glow-effect",disabled:c(H).loading.value||!W.value||!Z.value},[c(H).loading.value?(u(),i("div",A,a[7]||(a[7]=[o("div",{class:"dot"},null,-1),o("div",{class:"dot"},null,-1),o("div",{class:"dot"},null,-1)]))):(u(),i("span",q,"Sign In"))],8,T)],32)])])),_:1}))}},[["__scopeId","data-v-2f79e3e2"]]);export{E as default};
